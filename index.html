<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–°–ø–∏—Å–æ–∫ –¥–µ–ª</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --primary: #4f46e5;
      --primary-dark: #4338ca;
      --danger: #ef4444;
      --gray: #6b7280;
      --light: #f3f4f6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #1f2937;
      padding: 20px;
    }

    #app {
      max-width: 500px;
      margin: 40px auto;
      background: white;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      overflow: hidden;
    }

    .header {
      background: var(--primary);
      color: white;
      padding: 20px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    h1 {
      font-size: 1.6rem;
      font-weight: 600;
    }

    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-primary {
      background: white;
      color: var(--primary);
    }

    .btn-primary:hover {
      background: var(--light);
      transform: translateY(-1px);
    }

    .btn-danger {
      background: var(--danger);
      color: white;
    }

    .btn-cancel {
      background: rgba(255,255,255,0.25);
      color: white;
    }

    .add-todo-form {
      padding: 20px 24px;
      background: #f8fafc;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    input[type="text"] {
      padding: 12px 16px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 1rem;
      outline: none;
    }

    input[type="text"]:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(79,70,229,0.1);
    }

    .priority-label {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--gray);
      font-size: 0.95rem;
    }

    .todo-list {
      padding: 8px 0;
    }

    .todo-item {
      padding: 14px 24px;
      display: flex;
      align-items: center;
      gap: 12px;
      border-bottom: 1px solid #f1f5f9;
      cursor: pointer;
      user-select: none;
      transition: background 0.2s;
    }

    .todo-item:hover {
      background: #f8fafc;
    }

    .todo-item.completed .todo-text {
      text-decoration: line-through;
      color: #9ca3af;
      opacity: 0.8;
    }

    .todo-text {
      flex: 1;
      font-size: 1.05rem;
    }

    .priority {
      color: #dc2626;
      font-weight: 600;
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #6b7280;
      font-size: 1.1rem;
    }

    .actions {
      margin-left: auto;
      display: flex;
      gap: 8px;
      opacity: 0.6;
    }

    .actions:hover {
      opacity: 1;
    }
  </style>
</head>
<body>

<div id="app">
  <div class="header">
    <h1>{{ editing ? '–ù–æ–≤–æ–µ –¥–µ–ª–æ' : '–ú–æ–∏ –¥–µ–ª–∞' }}</h1>
    
    <div>
      <button 
        v-if="editing" 
        @click="cancelEdit" 
        class="btn btn-cancel">
        –û—Ç–º–µ–Ω–∞
      </button>
      <button 
        v-else 
        @click="startAdding" 
        class="btn btn-primary">
        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å
      </button>
    </div>
  </div>

  <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
  <div v-if="editing" class="add-todo-form">
    <input 
      v-model="newTodoText"
      @keyup.enter="saveTodo"
      type="text" 
      placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?"
      autofocus
    >
    
    <label class="priority-label">
      <input type="checkbox" v-model="newTodoImportant">
      –í–∞–∂–Ω–æ–µ –¥–µ–ª–æ üî•
    </label>

    <button 
      @click="saveTodo"
      class="btn btn-primary"
      :disabled="!newTodoText.trim()"
      style="align-self: flex-start; margin-top: 8px;">
      –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
    </button>
  </div>

  <!-- –°–ø–∏—Å–æ–∫ –¥–µ–ª -->
  <div v-if="todos.length === 0 && !editing" class="empty-state">
    –ü–æ–∫–∞ –Ω–µ—Ç –¥–µ–ª... –û—Ç–ª–∏—á–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–∞—á–∞—Ç—å! ‚ú®
  </div>

  <div class="todo-list" v-else>
    <div 
      v-for="todo in reversedTodos" 
      :key="todo.id"
      class="todo-item"
      :class="{ completed: todo.completed }"
      @click="toggleCompleted(todo)"
    >
      <input 
        type="checkbox" 
        :checked="todo.completed"
        @click.stop
      >
      
      <span class="todo-text" :class="{ priority: todo.important }">
        {{ todo.text }}
      </span>

      <div class="actions">
        <i 
          class="fas fa-trash-alt" 
          style="color: var(--danger);"
          @click.stop="deleteTodo(todo)"
        ></i>
      </div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
<script>
const { createApp } = Vue

createApp({
  data() {
    return {
      todos: [
        { id: 1, text: '–ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ –Ω–µ–¥–µ–ª—é', completed: true, important: false },
        { id: 2, text: '–°–¥–∞—Ç—å –æ—Ç—á—ë—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç—É', completed: false, important: true },
        { id: 3, text: '–ü–æ–∑–≤–æ–Ω–∏—Ç—å –º–∞–º–µ', completed: false, important: true },
        { id: 4, text: '–í—ã–Ω–µ—Å—Ç–∏ –º—É—Å–æ—Ä', completed: false, important: false }
      ],
      editing: false,
      newTodoText: '',
      newTodoImportant: false
    }
  },

  computed: {
    reversedTodos() {
      return [...this.todos].reverse()
    }
  },

  methods: {
    startAdding() {
      this.editing = true
      this.newTodoText = ''
      this.newTodoImportant = false
    },

    cancelEdit() {
      this.editing = false
      this.newTodoText = ''
      this.newTodoImportant = false
    },

    saveTodo() {
      if (!this.newTodoText.trim()) return

      this.todos.push({
        id: Date.now(),
        text: this.newTodoText.trim(),
        completed: false,
        important: this.newTodoImportant
      })

      this.newTodoText = ''
      this.newTodoImportant = false
      this.editing = false
    },

    toggleCompleted(todo) {
      todo.completed = !todo.completed
    },

    deleteTodo(todo) {
      if (confirm('–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É?')) {
        const index = this.todos.indexOf(todo)
        if (index > -1) this.todos.splice(index, 1)
      }
    }
  }
}).mount('#app')
</script>
</body>
</html>